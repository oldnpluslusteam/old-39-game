{
  "classes": {
    "static": {
      "components": {
        "body": {
          "bodyType": "StaticBody"
        },
      },
    },
    "broken-part": {
      "components": {
        "body": {
          "bodyType": "DynamicBody",
        },
      },
    },
    "rope-end-light": {
      "inherit": ["point-light-0"],
      "components": {
        "body": {
          "bodyType": "DynamicBody",
          "noRotation": true,
        },
        "circle fixture": {
          "radius": 5,
        }
      }
    }
  },

  "entities": [
    {
      "inherit": ["static"],
      "components": {
        "box fixture": {
          "size": [1000, 20]
        },
        "tag": {"tag": "static_00"},
      },
      "properties": {
        "position": ["0", "-20"]
      }
    },
    {
      "inherit": ["static"],
      "components": {
        "box fixture": {
          "size": [400, 55],
        },
        "trigger fixture": {
          "type": "circle fixture",
          "sensor": true,
          "collisionBeginEvent": "break",
          "center": [0, 100],
        },
        "tag": { "tag": "break_floor_00" },
        "sprite": { "sprite": "sprites/scene1/break_floor_01" },
        "normal sprite": {
          "pass": "game-normals",
          "sprite": "sprites/scene1/break_floor_01_n",
        },
        "destructible": {
          "centerDestructionEvent": "break",
          "destructionEndEvent": "destructionEnd",
          "partClass": "broken-part",
          "fromFixture": "box fixture",
          "texture": "sprites/scene1/break_floor_01",
          "sprites": [
            {
              "pass": "game-objects",
            },
            {
              "pass": "game-normals-stub",
            }
          ],
          "destroyerConfig": {
            "crackLengthMin": 30,
            "crackLengthMax": 50,
            "minTriArea": 1,
            "forkRaysMin": 2,
            "forkRaysMax": 3,
            "forkAngleRange": 89,
            "forkAngleRestrictRangeFraction": 0.1,
          }
        },
        "set camera target": {
          "cameraTag": "camera",
          "targetTag": "player",
          "event": "destructionEnd",
        },
        "destroy on event": { "event": "destructionEnd" },
      },
      "properties": {
        "position": ["700", "-38.5"],
      },
    },
    {
      "inherit": ["static"],
      "components": {
        "box fixture": {
          "size": [1000, 20]
        }
      },
      "properties": {
        "position": ["1000", "-500"]
      }
    },
    {
      "inherit": ["static"],
      "components": {
        "box fixture": {
          "size": [40, 40],
        }
      },
      "properties": {
        "position": ["500", "-100"]
      }
    },

    {
      "components": {
        "rope": {
          "startEntity": "static_00",
          "startAnchor": [800, 300],
          "startLocal": false,

          "segmentLength": 10,
          "segmentCount": 20,
          "width": 5,

          "segmentAngleLimit": 180,

          "density": 0.005,
          "friction": 0,

          "endSpawnClass": "rope-end-light",
        },
        "rope sprite": {
          "sprite": "sprites/scene1/rope",
          "width": 5,
          "segmentScale": 0.5,
        },
        "secondary rope sprite": {
          "pass": "game-normals-stub",
          "type": "rope sprite",
          "sprite": "sprites/scene1/rope",
          "width": 5,
          "segmentScale": 0.5,
        },
      },
    }
  ]
}
